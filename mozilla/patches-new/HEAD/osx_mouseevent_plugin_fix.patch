Index: widget/src/mac/nsMacEventHandler.cpp
===================================================================
RCS file: /cvsroot/mozilla/widget/src/mac/nsMacEventHandler.cpp,v
retrieving revision 1.204
diff -u -r1.204 widget/src/mac/nsMacEventHandler.cpp
--- widget/src/mac/nsMacEventHandler.cpp	31 Mar 2007 08:18:09 -0000	1.204
+++ widget/src/mac/nsMacEventHandler.cpp	13 Jun 2007 21:28:50 -0000
@@ -1496,6 +1496,12 @@
 			break;
 		}
 
+#if TARGET_CARBON
+		// XXX ActiveState  HIView embeded plugins that do not handle mouse events produce
+		//                  inStructure partCode's.  Handle it just like inContent, and 
+		//                  mousedown events work properly.
+		case inStructure:
+#endif
 		case inContent:
 		{
 			// don't allow clicks that rolled up a popup through to the content area.
@@ -1587,6 +1593,8 @@
 	nsMouseEvent mouseEvent(PR_TRUE, NS_MOUSE_BUTTON_UP, nsnull,
                           nsMouseEvent::eReal);
 	mouseEvent.button = nsMouseEvent::eLeftButton;
+	if ( aOSEvent.modifiers & controlKey )
+	  mouseEvent.button = nsMouseEvent::eRightButton;
 
 	// We've hacked our events to include the button.
 	// Normally message is undefined in mouse click/drag events.
Index: widget/src/mac/nsMacMessagePump.cpp
===================================================================
RCS file: /cvsroot/mozilla/widget/src/mac/nsMacMessagePump.cpp,v
retrieving revision 1.148
diff -u -r1.148 nsMacMessagePump.cpp
--- widget/src/mac/nsMacMessagePump.cpp	4 Feb 2005 22:15:08 -0000	1.148
+++ widget/src/mac/nsMacMessagePump.cpp	30 Jun 2005 20:43:05 -0000
@@ -553,6 +553,12 @@
         break;
       }
 
+#if TARGET_CARBON
+    // XXX ActiveState  HIView embeded plugins that do not handle mouse events produce
+    //                  inStructure partCode's.  Handle it just like inContent, and 
+    //                  mousedown events work properly.
+      case inStructure:
+#endif
       case inContent:
       {
         nsGraphicsUtils::SafeSetPortWindowPort(whichWindow);
